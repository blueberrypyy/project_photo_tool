{% extends 'base.html' %}
{% load static %}
{% block title %}Address Jigger{% endblock %}

{% block content %}

<script src='{% static "js/addressfunc.js" %}' type='text/javascript'></script>
<style>
label {
    color: #ebdbb2;
}

p {
    color: #a89984;
}

div {
    color: #a89984;
}

h2 {
    color: #ebdbb2;
}

hr {
    border: solid;
    border-color: black;
}

input {
    background-color: #282828; 
    border: #181818; 
    color: #b8bb26; 
    font-family: Consolas,Menlo,"courier new",monospace;
}

textarea {
    background-color: #282828; 
    border: #181818; 
    color: #fabd2f; 
    font-family: Consolas,Menlo,"courier new",monospace;
}

.btn-info:hover {
    }
    .btn-info,
    .btn-info:active,
    .style='background-color: #282828; border: #181818; color: #fabd2f; font-family: Consolas,Menlo,"courier new",monospace;'btn-info:visited, {
        background-color: #fe8019;
    }

    .btn-info:focus {
    background-color: yellow;
    border-color: yellow;
    color: black;
    }

.form-switch .form-check-input {
    height: 24px;
    width: 48px;
}
.form-switch .form-check-input:focus {
    border-color: rgba(0, 0, 0, 0.25);
    outline: 0;
    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba(0,0,0,0.25)'/></svg>");
}
.form-switch .form-check-input:checked {
    background-color: #458588;
    border-color: #458588;
    border: none;
    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba(255,255,255,1.0)'/></svg>");
}

#slider::-moz-range-thumb { 
  -moz-appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 10px;
  color: black;
  background-color: #458588;
  overflow: visible;
  cursor: pointer;
}

.slider .track {
    -fx-background-color: linear-gradient(to right, red 0%, red 50%, -fx-base 50%, -fx-base 100%);
}

</style>


<!-- Card body -->

    <div class='container'>
        <div class='row'>
        <div class='col-7 mx-auto'>
      <div class='shadow-lg p-4 rounded' style='background: #3c3836'>
        <h2>Address Jigger</h2>
        <p>Just enter your gmail and select how many variations to generate your emails</p>
        <hr/>
      <div class="card-body">
 
      <!-- partial:index.partial.html -->
        <div class='row'>
            <div class='col-md-6'>

         <div class="result">
        <div class='d-flex' style='background-color: #504945;'>
            <label>Enter your address:</label>
        </div>
            <input  class='form-control mb-4 w-100' type="text" placeholder="123 Rainbow Rd." name="address" required class="type-1 no-outline" style='background-color: #282828; border: #181818; color: #b8bb26; font-family: Consolas,Menlo,"courier new",monospace;' id="input"/>
         </div>
         <div class="length range__slider" data-min="4" data-max="32">

        <div class='d-flex' style='background-color: #504945;'>
            <label for='slider' class="" data-length='0' id="curLength">Amount to Generate: <div id='amount'></div></label>
        </div>
        <div class='d-flex p-2 rounded mb-4' style='background-color: #282828;'>
            <input id='slider' type="range" class="form-range" min="4" max="32" value="4">
        </div>

        </div>


    <div class='d-flex' style='background-color: #504945;'>
        <label class="">Settings</label><br/>
    </div>

<div class="d-flex p-2 rounded mb-1" style='background-color: #282828;'>Add letters to output
    <div class='form-check form-switch ms-auto'>
  <input class="form-check-input" type="checkbox" role="switch" id="letters">
  </div>

</div>

<div class="d-flex p-2 rounded mb-1" style='background-color: #282828;'>Send characters to the start
    <div class='form-check form-switch ms-auto'>
  <input class="form-check-input " type="checkbox" role="switch" id="start">
  </div>
</div>

<div class="d-flex p-2 rounded" style='background-color: #282828;'>Add whitespace to output
    <div class='form-check form-switch ms-auto'>
  <input class="form-check-input mb-1" type="checkbox" role="switch" id="whitespace">
  </div>
</div>




                <button onclick='generateAddresses()' class="btn w-100 mt-4" id="generate" style='background-color: #fe8019;'>Jig Address</button>
         <div>
            <!-- <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" style="margin-top: 0px; margin-bottom: 0px; height: 229px;"></textarea>-->
         </div>
        <a style="text-decoration:none; text-align:left; color: #25d5e4; font-size: 14px;" href="#">blueberry.py</a>
         <sub>&nbsp;</sub>
      </div>

      <div class='col-md-6'>
      <div>
        <div class='d-flex' style='background-color: #504945;'>
            <label>Output:</label>
            <button class='btn btn-sm ms-auto py-0' onclick = "downloadFile()" style='background-color: #fe8019; font-size: 0.8rem;'>Save .txt file</button>
        </div>
         <textarea class="form-control" id="output" rows="16" style='background-color: #282828; border: #181818; color: #fabd2f; font-family: Consolas,Menlo,"courier new",monospace;'> </textarea>
      </div>
      </div>

      </div>
      <!-- partial -->

</div>
</div>
</div>

<!-- DOWNLOAD SCRIPT -->
   <script>
      const downloadFile = () => {
         const link = document.createElement("a");
         const content = document.querySelector("textarea").value;
         const file = new Blob([content], { type: 'text/plain' });
         link.href = URL.createObjectURL(file);
         link.download = "jgd_addresses.txt";
         link.click();
         URL.revokeObjectURL(link.href);
      };
   </script>

    <!--Slider number -->
   <script>
var div = document.getElementById('amount');

var input1 = document.getElementById("slider");

var value = document.createElement('p');
value.setAttribute('id', 'sliderValue');
value.innerHTML = input1.value;

form.appendChild(input1);
div.appendChild(form);
div.appendChild(value);

// To update the slider value dynamically
input1.oninput = function() {
  value.innerHTML = this.value;
}
       </script>

  
{% endblock content %}
