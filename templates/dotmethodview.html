{% extends 'base.html' %}
{% block title %}Dot Method{% endblock %}

{% block content %}

<style>
label {
    color: white;
}

p {
    color: white;
}

div {
    color: white;
}

</style>

<div class='container'>
    <h1 class='text-center' style='color: white;'>Dot Method</h1>
    <br>
</div>

<section class='form-section'>

<!-- Card body -->
    <div class='container'>
      <div class='card p-4' style='background: linear-gradient(146deg, rgba(0,0,0,1), rgba(0,0,0,0.3))'>
        <h2>Dot Method Generator</h2>
        <p>Just enter your gmail and select how many variations to generate your emails</p>
      <div class="card-body">
          
        <form method='POST'>
            {% csrf_token %}
            {{ form.email }}
                </div>
                

        <div class='row'>
            <div class="col-md-4">
            <div class="mb-3">
              <label for="exampleInput2" class="form-label">Enter Gmail address</label>
              <input type="email" class="form-control" id="exampleInput2" />

                <div class='mt-3'>
                    <button class='btn btn-info'>Generate emails</button>
                </div>

            </div>
            </div>

            <div class='col-md-2'>
                <div class='mb-3'>
                    <label for="exampleInput5" class="form-label">Number of iterations</label>
                    <select id="exampleInput5" class="form-select mb-3" aria-label="Default select example">
                      <option selected value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="15">15</option>
                      <option value="20">20</option>
                      <option value="max">max</option>
                    </select>


                
            </div>
            </div>
        </form>
            
            <div class='col-md-6'>
            <div class='mb-3'>
                <label class='form-label'>Output</label>
                <textarea id='output' class='form-control' rows='16'></textarea>

            </div>

<!DOCTYPE html>
<html>
<head>
  <title>Email Generator</title>
  <meta charset="UTF-8">
  <script>
    function generateEmails() {
      var at, counter, domain, dotpos, dotpos_over, email, email_list, new_email, user, user_list;
      email = document.getElementById("email-input").value;
      email_list = [email];
      domain = "$@.+\\.com^";
      at = email.indexOf("@");
      domain = email.slice(at);
      user = email.slice(0, at);
      new_email = "";
      counter = 0;
      dotpos = 0;
      dotpos_over = 0;

      for (var i = 0, _pj_a = user.length - 1; i < _pj_a; i += 1) {
        user_list = Array.from(user);
        dotpos += 1;
        user_list.splice(dotpos, 0, ".");
        new_email = user_list.join("") + domain;

        if (dotpos > user_list.length - 1) {
          console.log("Full");
        } else {
          email_list.push(new_email);
        }
      }

      document.getElementById("email-output").value = email_list.join("\n");
    }
  </script>
</head>
<body>
  <h1>Email Generator</h1>
  <p>Enter an email address:</p>
  <input type="text" id="email-input">
  <button onclick="generateEmails()">Generate</button>
  <p>Generated email addresses:</p>
  <textarea id="email-output" rows="10"></textarea>
</body>
</html>


            </div>






{% endblock %}
